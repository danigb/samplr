(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2793:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9436)}])},9436:function(e,t,n){"use strict";let s,l,a,o,r,i,d,u,c,x,m,p,h;n.r(t),n.d(t,{default:function(){return Z}});var v=n(1527),g=n(9392),j=n.n(g),b=n(3219),f=n.n(b),N=n(959),y=n(744);function C(){return(0,N.useState)("init")}function S(e){let{status:t,onClick:n}=e;return"init"===t?(0,v.jsx)("button",{className:"text-rose-700 bg-zinc-900 px-2 rounded",onClick:n,children:"Load"}):"ready"===t?(0,v.jsx)("div",{className:"text-teal-600",children:"Ready"}):"loading"===t?(0,v.jsx)("div",{className:"text-gray-500",children:"Loading..."}):(0,v.jsx)("div",{className:"text-red-700",children:"Error loading"})}function w(e){let{className:t}=e,[n,a]=C(),[o,r]=(0,N.useState)((0,y.mK)()[0]),[i,d]=(0,N.useState)(void 0),[u,c]=(0,N.useState)(0),[x,m]=(0,N.useState)(100);function p(e){a("loading"),null!=s||(s=new window.AudioContext),null!=l||(l=new y.E8(s));let t=new y.No(s,{instrument:e});t.output.addEffect("reverb",l,u),t.load.then(()=>{a("ready"),d(t)}).catch(e=>{a("error"),console.error("Instrument error",e)})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"DrumMachine"}),(0,v.jsx)(S,{status:n,onClick:()=>{p(o)}})]}),(0,v.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:o,onChange:e=>{let t=e.target.value;t!==o&&(r(t),p(t))},children:(0,y.mK)().map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("div",{children:"Vol:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==i||i.output.setVolume(t),m(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==i||i.output.sendEffect("reverb",t),c(t)}})]}),(0,v.jsx)("div",{className:"grid grid-cols-6 gap-1",children:null==i?void 0:i.sampleNames.map(e=>(0,v.jsxs)("div",{className:"bg-zinc-900 rounded px-2 pb-2",children:[(0,v.jsx)("div",{className:"flex",children:(0,v.jsx)("button",{className:"text-left flex-grow",onClick:()=>{null==i||i.start({note:e,detune:50*(Math.random()-.5)})},children:e})}),(0,v.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:null==i?void 0:i.getVariations(e).map(e=>(0,v.jsx)("button",{className:"bg-zinc-600 w-4 h-4 rounded",onMouseDown:()=>{null==i||i.start({note:e})}},e))})]},e))})]})]})}var k=n(8216),z=n(2784);function E(e){let{instrument:t}=e,n=(0,N.useRef)(null),[s,l]=(0,N.useState)([]),[a,o]=(0,N.useState)(""),[r,i]=(0,N.useState)(),[d,u]=(0,N.useState)("");(0,N.useEffect)(()=>{void 0!==window.navigator&&void 0!==navigator.requestMIDIAccess&&z.u5.enable().then(()=>{l(z.u5.inputs.map(e=>e.name))})},[]),n.current=null!=t?t:null;let c=void 0!==r;function x(){null==r||r.forEach(e=>e.remove()),i(void 0)}function m(e){let t=z.u5.inputs.find(t=>t.name===e);if(!t){o("");return}o(e);let s=t.addListener("noteon",e=>{var t;let s={note:e.note.number,velocity:e.rawVelocity};null===(t=n.current)||void 0===t||t.start(s),u("".concat(s.note," (").concat(s.velocity,")"))}),l=t.addListener("noteoff",e=>{var t;null===(t=n.current)||void 0===t||t.stop({stopId:e.note.number}),u("")});i([...Array.isArray(s)?s:[s],...Array.isArray(l)?l:[l]])}return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:"px-1 rounded "+(c?"bg-emerald-600":"bg-zinc-700"),onClick:()=>{c?x():m(a)},children:"MIDI"}),(0,v.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500 py-[2px]",value:a,onChange:e=>{let t=e.target.value;c&&x(),t&&m(t)},children:[(0,v.jsx)("option",{value:"",children:"Select MIDI device"}),s.map(e=>(0,v.jsx)("option",{value:e,children:e},e))]}),(0,v.jsx)("div",{className:"opacity-50",children:d})]})}var A=n(7109);let I=e=>[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>t+e),V=e=>[1,3,6,8,10].includes(e%12);function R(e){let{className:t,borderColor:n="border-blue-700",onPress:s,onRelease:l}=e,[a,o]=(0,N.useState)(100),[r,i]=(0,N.useState)(0),[d,u]=(0,N.useState)(60),[c,x]=(0,N.useState)(!1),m=e=>!1;return(0,v.jsxs)("div",{className:t,children:[(0,v.jsx)("div",{className:"piano-container border-t-8 ".concat(n),children:[...I(d),...I(d+12)].map(e=>V(e)?(0,v.jsx)("div",{className:"accidental-key__wrapper",children:(0,v.jsx)("button",{className:"accidental-key ".concat(m(e)?"accidental-key--playing":""),onMouseDown:()=>s({note:e,velocity:a,detune:r}),onMouseUp:()=>{!c&&l&&l(e)},children:(0,v.jsx)("div",{className:"text"})})},e):(0,v.jsx)("button",{className:"natural-key ".concat(m(e)?"natural-key--playing":""),onMouseDown:()=>s({note:e,velocity:a,detune:r}),onMouseUp:()=>{!c&&l&&l(e)},children:(0,v.jsx)("div",{className:"text"})},e))}),(0,v.jsxs)("div",{className:"flex gap-1 items-center mt-1",children:[(0,v.jsxs)("div",{children:["Octave: ",d,"-",d+12+11]}),(0,v.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{u(d-12)},children:"-"}),(0,v.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{u(d+12)},children:"+"}),(0,v.jsxs)("div",{className:"ml-3",children:["Velocity: ",a]}),(0,v.jsx)("input",{type:"range",min:0,max:127,value:a,onChange:e=>o(e.target.valueAsNumber)}),(0,v.jsxs)("div",{className:"ml-3",children:["Detune: ",r]}),(0,v.jsx)("input",{type:"range",min:-100,max:100,value:r,onChange:e=>i(e.target.valueAsNumber)}),(0,v.jsx)("input",{className:"ml-3",type:"checkbox",checked:c,onChange:e=>x(e.target.checked)}),(0,v.jsx)("div",{className:"",children:"Sustain"}),(0,v.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{let e=A.Ci.degrees("C4 major");A.e6.numeric([1,8,1]).map(e).map(A.jC.np).map((e,t)=>s({note:null!=e?e:0,velocity:Math.floor(60+40*Math.random()),detune:0,time:.25*t,duration:.05}))},children:"Test"})]})]})}let P=(0,y.mb)();function _(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,o]=(0,N.useState)("CP80"),[r,i]=C(),[d,u]=(0,N.useState)(0),[c,x]=(0,N.useState)(0),[m,p]=(0,N.useState)(100);function h(e){n&&n.disconnect(),i("loading");let t=(0,k.k)();null!=a||(a=new y.E8(t));let l=new y.xU(t,{instrument:e,volume:m});l.output.addEffect("reverb",a,d),s(l),l.load.then(()=>{i("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Electric Piano"}),(0,v.jsx)(S,{status:r,onClick:()=>h(l)}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;h(t),o(t)},children:P.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,v.jsx)("div",{children:"Tremolo:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.tremolo.level(t),x(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let M=(0,y.wz)();function D(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,a]=(0,N.useState)(M[0]),[r,i]=C(),[d,u]=(0,N.useState)(0),[c,x]=(0,N.useState)(100);function m(e){n&&n.disconnect(),i("loading");let t=(0,k.k)();null!=o||(o=new y.E8(t));let l=new y.Jp(t,{instrument:e,volume:c});l.output.addEffect("reverb",o,d),s(l),l.load.then(()=>{i("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Mallet"}),(0,v.jsx)(S,{status:r,onClick:()=>m(l)}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;m(t),a(t)},children:M.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let T=(0,y.Zx)();function L(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,a]=(0,N.useState)(T[0]),[o,i]=C(),[d,u]=(0,N.useState)(0),[c,x]=(0,N.useState)(100);function m(e){n&&n.disconnect(),i("loading");let t=(0,k.k)();null!=r||(r=new y.E8(t));let l=new y.a0(t,{instrument:e,volume:c});l.output.addEffect("reverb",r,d),s(l),l.load.then(()=>{i("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Mellotron"}),(0,v.jsx)(S,{status:o,onClick:()=>m(l)}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;m(t),a(t)},children:T.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let U=(0,y.co)();function F(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,a]=(0,N.useState)(U[0]),[o,r]=C(),[u,c]=(0,N.useState)(0),[x,m]=(0,N.useState)(100);function p(e){n&&n.disconnect(),r("loading");let t=(0,k.k)();null!=i||(i=new y.E8(t)),null!=d||(d=new y.xA("smolken"));let l=new y.TU(t,{instrument:e,volume:x});l.output.addEffect("reverb",i,u),s(l),l.load.then(()=>{r("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Smolken Double Bass"}),(0,v.jsx)(S,{status:o,onClick:()=>p(l)}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:U.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),c(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}var G=n(2768);let O={"Galaxy Electric Pianos":"https://smpldsnds.github.io/soundfonts/soundfonts/galaxy-electric-pianos.sf2","Giga MIDI":"https://smpldsnds.github.io/soundfonts/soundfonts/giga-hq-fm-gm.sf2",Supersaw:"https://smpldsnds.github.io/soundfonts/soundfonts/supersaw-collection.sf2"};Object.keys(O);let q=["Supersaw","Giga MIDI","Galaxy Electric Pianos"];function B(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,a]=(0,N.useState)(q[0]),[o,r]=(0,N.useState)(""),[i,d]=C(),[c,x]=(0,N.useState)(0),[m,p]=(0,N.useState)(100),[h,g]=(0,N.useState)(!1),[j,b]=(0,N.useState)("https://smpldsnds.github.io/soundfonts/soundfonts/yamaha-grand-lite.sf2");function f(e){n&&n.disconnect(),d("loading");let t=(0,k.k)(),l=e.startsWith("http");a(l?"_custom":e),null!=u||(u=new y.E8(t));let o=l?e:O[e],i=new y.Io(t,{url:o,createSoundfont:e=>new G.SoundFont2(e)});i.output.addEffect("reverb",u,c),s(i),i.load.then(e=>{let t=e.instrumentNames[0];r(t),e.loadInstrument(t),d("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Soundfont2"}),(0,v.jsx)("h2",{children:"Soundfont2 sampler"})]}),(0,v.jsx)("div",{children:"(experimental)"}),(0,v.jsx)(S,{status:i,onClick:()=>{h?f(j):f("Supersaw")}}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsxs)("div",{className:"my-2 flex gap-4",children:[(0,v.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;"_custom"===t?(g(!0),a("_custom")):f(t)},children:[q.map(e=>(0,v.jsx)("option",{value:e,children:e},e)),(0,v.jsx)("option",{value:"_custom",children:"Custom URL"},"custom")]}),(0,v.jsx)("input",{className:"w-80 border p-1 bg-zinc-700 text-zinc-200 disabled:opacity-25",disabled:!h,placeholder:"https://example.com/soundfont.sf2",value:j,onChange:e=>{b(e.target.value)}})]}),(0,v.jsxs)("div",{className:"ready"!==i?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:o,onChange:e=>{let t=e.target.value;r(t),null==n||n.loadInstrument(t)},children:null==n?void 0:n.instrumentNames.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),x(t)}})]}),(0,v.jsx)(R,{borderColor:"border-blue-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function K(e){let{className:t}=e,[n,s]=C(),[l,a]=(0,N.useState)("disabled"),[o,r]=(0,N.useState)((0,y.zP)()[0]),[i,d]=(0,N.useState)("marimba"),[u,x]=(0,N.useState)(void 0),[m,p]=(0,N.useState)(0),[h,g]=(0,N.useState)(100);function j(e,t){let n=(0,k.k)();null!=c||(c=new y.E8(n));let l=new y.Be(n,{kit:e,instrument:t,loadLoopData:!0});l.output.addEffect("reverb",c,0),l.load.then(e=>{s("ready"),x(t=>(t&&t.disconnect(),e)),e.hasLoops&&a("loop")}).catch(e=>{s("error"),console.error("Instrument error",e)})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Soundfont"}),(0,v.jsx)(S,{status:n,onClick:()=>{j(o,i)}}),(0,v.jsx)(E,{instrument:{start:e=>{u&&u.start({...e,loop:"loop"===l})},stop:e=>{null==u||u.stop(e)}}})]}),(0,v.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:o,onChange:e=>{let t=e.target.value;j(t,i),r(t)},children:(0,y.zP)().map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:i,onChange:e=>{let t=e.target.value;j(o,t),d(t)},children:(0,y.Dy)().map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==u||u.stop()},children:"Stop all"}),(0,v.jsxs)("label",{"aria-disabled":"disabled"===l,className:"flex gap-2 ".concat("disabled"===l?"opacity-50":""),htmlFor:"loop",children:[(0,v.jsx)("input",{disabled:"disabled"===l,checked:"loop"===l,onChange:()=>{a(e=>"no-loop"===e?"loop":"no-loop")},type:"checkbox",id:"loop"}),"Loop"]})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:h,onChange:e=>{let t=e.target.valueAsNumber;null==u||u.output.setVolume(t),g(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==u||u.output.sendEffect("reverb",t),p(t)}})]}),(0,v.jsx)(R,{borderColor:"border-teal-600",onPress:e=>{var t;u&&u.start({...e,time:(null!==(t=e.time)&&void 0!==t?t:0)+u.context.currentTime,loop:"loop"===l})},onRelease:e=>{null==u||u.stop({stopId:e})}})]})]})}let X=[];function J(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,a]=(0,N.useState)(X[0]),[o,r]=C(),[i,d]=(0,N.useState)(0),[u,c]=(0,N.useState)(100);function p(e){n&&n.disconnect(),r("loading");let t=(0,k.k)();null!=x||(x=new y.E8(t)),null!=m||(m=new y.xA("smolken"));let l=new y.Dc(t,{instrument:e,volume:u});l.output.addEffect("reverb",x,i),s(l),l.load.then(()=>{r("ready")})}return(0,N.useEffect)(()=>{(0,y.o6)().then(e=>{X=e,a(e[0])})},[]),(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Versilian "}),(0,v.jsx)("h2",{children:"Versilian Community Sample Library"})]}),(0,v.jsx)("div",{children:"(experimental)"}),(0,v.jsx)(S,{status:o,onClick:()=>p(l)}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:X.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),c(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),d(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function W(e){let{className:t}=e,[n,s]=(0,N.useState)(void 0),[l,a]=C(),[o,r]=(0,N.useState)(0),[i,d]=(0,N.useState)(100);return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Piano"}),(0,v.jsx)(S,{status:l,onClick:function(){if(n)return;a("loading");let e=(0,k.k)();null!=p||(p=new y.E8(e)),null!=h||(h=new y.xA);let t=new y.ab(e,{volume:i,storage:h});t.output.addEffect("reverb",p,o),s(t),t.load.then(()=>{a("ready")})}}),(0,v.jsx)(E,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==l?"opacity-30":"",children:[(0,v.jsx)("div",{className:"flex gap-4 mb-2 no-select",children:(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:128,step:1,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),d(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:o,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),r(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function Z(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(f(),{children:[(0,v.jsx)("title",{children:"smplr"}),(0,v.jsx)("meta",{name:"description",content:"Plug and play web instruments"}),(0,v.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,v.jsxs)("main",{className:"max-w-4xl mx-auto my-20 p-4"+j().className,children:[(0,v.jsx)("div",{className:"flex items-end mb-16",children:(0,v.jsx)("h1",{className:"text-6xl font-bold",children:"smplr"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,v.jsx)(W,{}),(0,v.jsx)(K,{}),(0,v.jsx)(_,{}),(0,v.jsx)(D,{}),(0,v.jsx)(w,{}),(0,v.jsx)(L,{}),(0,v.jsx)(F,{}),(0,v.jsx)(J,{}),(0,v.jsx)(B,{})]})]})]})}}},function(e){e.O(0,[856,182,151,142,888,774,179],function(){return e(e.s=2793)}),_N_E=e.O()}]);