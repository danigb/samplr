(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3304)}])},3304:function(e,t,n){"use strict";let s,l,a,r,o,i,c,d,u,x,m,p;n.r(t),n.d(t,{default:function(){return X}});var v=n(5893),h=n(4791),j=n.n(h),b=n(9008),g=n.n(b),f=n(7294),N=n(744);function y(){return(0,f.useState)("init")}function C(e){let{status:t,onClick:n}=e;return"init"===t?(0,v.jsx)("button",{className:"text-rose-700 bg-zinc-900 px-2 rounded",onClick:n,children:"Load"}):"ready"===t?(0,v.jsx)("div",{className:"text-teal-600",children:"Ready"}):"loading"===t?(0,v.jsx)("div",{className:"text-gray-500",children:"Loading..."}):(0,v.jsx)("div",{className:"text-red-700",children:"Error loading"})}function S(e){let{className:t}=e,[n,a]=y(),[r,o]=(0,f.useState)((0,N.mK)()[0]),[i,c]=(0,f.useState)(void 0),[d,u]=(0,f.useState)(0),[x,m]=(0,f.useState)(100);function p(e){a("loading"),null!=s||(s=new window.AudioContext),null!=l||(l=new N.E8(s));let t=new N.No(s,{instrument:e});t.output.addEffect("reverb",l,d),t.load.then(()=>{a("ready"),c(t)}).catch(e=>{a("error"),console.error("Instrument error",e)})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"DrumMachine"}),(0,v.jsx)(C,{status:n,onClick:()=>{p(r)}})]}),(0,v.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:r,onChange:e=>{let t=e.target.value;t!==r&&(o(t),p(t))},children:(0,N.mK)().map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("div",{children:"Vol:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==i||i.output.setVolume(t),m(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==i||i.output.sendEffect("reverb",t),u(t)}})]}),(0,v.jsx)("div",{className:"grid grid-cols-6 gap-1",children:null==i?void 0:i.sampleNames.map(e=>(0,v.jsxs)("div",{className:"bg-zinc-900 rounded px-2 pb-2",children:[(0,v.jsx)("div",{className:"flex",children:(0,v.jsx)("button",{className:"text-left flex-grow",onClick:()=>{null==i||i.start({note:e,detune:50*(Math.random()-.5)})},children:e})}),(0,v.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:null==i?void 0:i.getVariations(e).map(e=>(0,v.jsx)("button",{className:"bg-zinc-600 w-4 h-4 rounded",onMouseDown:()=>{null==i||i.start({note:e})}},e))})]},e))})]})]})}var w=n(1513),k=n(2209);function z(e){let{instrument:t}=e,n=(0,f.useRef)(null),[s,l]=(0,f.useState)([]),[a,r]=(0,f.useState)(""),[o,i]=(0,f.useState)(),[c,d]=(0,f.useState)("");(0,f.useEffect)(()=>{void 0!==window.navigator&&void 0!==navigator.requestMIDIAccess&&k.u5.enable().then(()=>{l(k.u5.inputs.map(e=>e.name))})},[]),n.current=null!=t?t:null;let u=void 0!==o;function x(){null==o||o.forEach(e=>e.remove()),i(void 0)}function m(e){let t=k.u5.inputs.find(t=>t.name===e);if(!t){r("");return}r(e);let s=t.addListener("noteon",e=>{var t;let s={note:e.note.number,velocity:e.rawVelocity};null===(t=n.current)||void 0===t||t.start(s),d("".concat(s.note," (").concat(s.velocity,")"))}),l=t.addListener("noteoff",e=>{var t;null===(t=n.current)||void 0===t||t.stop({stopId:e.note.number}),d("")});i([...Array.isArray(s)?s:[s],...Array.isArray(l)?l:[l]])}return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{className:"px-1 rounded "+(u?"bg-emerald-600":"bg-zinc-700"),onClick:()=>{u?x():m(a)},children:"MIDI"}),(0,v.jsxs)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500 py-[2px]",value:a,onChange:e=>{let t=e.target.value;u&&x(),t&&m(t)},children:[(0,v.jsx)("option",{value:"",children:"Select MIDI device"}),s.map(e=>(0,v.jsx)("option",{value:e,children:e},e))]}),(0,v.jsx)("div",{className:"opacity-50",children:c})]})}var E=n(7699);let A=e=>[0,1,2,3,4,5,6,7,8,9,10,11].map(t=>t+e),V=e=>[1,3,6,8,10].includes(e%12);function R(e){let{className:t,borderColor:n="border-blue-700",onPress:s,onRelease:l}=e,[a,r]=(0,f.useState)(100),[o,i]=(0,f.useState)(0),[c,d]=(0,f.useState)(60),[u,x]=(0,f.useState)(!1),m=e=>!1;return(0,v.jsxs)("div",{className:t,children:[(0,v.jsx)("div",{className:"piano-container border-t-8 ".concat(n),children:[...A(c),...A(c+12)].map(e=>V(e)?(0,v.jsx)("div",{className:"accidental-key__wrapper",children:(0,v.jsx)("button",{className:"accidental-key ".concat(m(e)?"accidental-key--playing":""),onMouseDown:()=>s({note:e,velocity:a,detune:o}),onMouseUp:()=>{!u&&l&&l(e)},children:(0,v.jsx)("div",{className:"text"})})},e):(0,v.jsx)("button",{className:"natural-key ".concat(m(e)?"natural-key--playing":""),onMouseDown:()=>s({note:e,velocity:a,detune:o}),onMouseUp:()=>{!u&&l&&l(e)},children:(0,v.jsx)("div",{className:"text"})},e))}),(0,v.jsxs)("div",{className:"flex gap-1 items-center mt-1",children:[(0,v.jsxs)("div",{children:["Octave: ",c,"-",c+12+11]}),(0,v.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{d(c-12)},children:"-"}),(0,v.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{d(c+12)},children:"+"}),(0,v.jsxs)("div",{className:"ml-3",children:["Velocity: ",a]}),(0,v.jsx)("input",{type:"range",min:0,max:127,value:a,onChange:e=>r(e.target.valueAsNumber)}),(0,v.jsxs)("div",{className:"ml-3",children:["Detune: ",o]}),(0,v.jsx)("input",{type:"range",min:-100,max:100,value:o,onChange:e=>i(e.target.valueAsNumber)}),(0,v.jsx)("input",{className:"ml-3",type:"checkbox",checked:u,onChange:e=>x(e.target.checked)}),(0,v.jsx)("div",{className:"",children:"Sustain"}),(0,v.jsx)("button",{className:"bg-zinc-900 px-1 rounded",onClick:()=>{let e=E.Ci.degrees("C4 major");E.e6.numeric([1,8,1]).map(e).map(E.jC.midi).map((e,t)=>s({note:null!=e?e:0,velocity:Math.floor(60+40*Math.random()),detune:0,time:.25*t,duration:.05}))},children:"Test"})]})]})}let I=(0,N.mb)();function P(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,r]=(0,f.useState)("CP80"),[o,i]=y(),[c,d]=(0,f.useState)(0),[u,x]=(0,f.useState)(0),[m,p]=(0,f.useState)(100);function h(e){n&&n.disconnect(),i("loading");let t=(0,w.k)();null!=a||(a=new N.E8(t));let l=new N.xU(t,{instrument:e,volume:m});l.output.addEffect("reverb",a,c),s(l),l.load.then(()=>{i("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Electric Piano"}),(0,v.jsx)(C,{status:o,onClick:()=>h(l)}),(0,v.jsx)(z,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;h(t),r(t)},children:I.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),p(t)}}),(0,v.jsx)("div",{children:"Tremolo:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.tremolo.level(t),x(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),d(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let M=(0,N.wz)();function _(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(M[0]),[o,i]=y(),[c,d]=(0,f.useState)(0),[u,x]=(0,f.useState)(100);function m(e){n&&n.disconnect(),i("loading");let t=(0,w.k)();null!=r||(r=new N.E8(t));let l=new N.Jp(t,{instrument:e,volume:u});l.output.addEffect("reverb",r,c),s(l),l.load.then(()=>{i("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Mallet"}),(0,v.jsx)(C,{status:o,onClick:()=>m(l)}),(0,v.jsx)(z,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==o?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;m(t),a(t)},children:M.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),d(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let D=(0,N.Zx)();function T(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(D[0]),[r,i]=y(),[c,d]=(0,f.useState)(0),[u,x]=(0,f.useState)(100);function m(e){n&&n.disconnect(),i("loading");let t=(0,w.k)();null!=o||(o=new N.E8(t));let l=new N.a0(t,{instrument:e,volume:u});l.output.addEffect("reverb",o,c),s(l),l.load.then(()=>{i("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Mellotron"}),(0,v.jsx)(C,{status:r,onClick:()=>m(l)}),(0,v.jsx)(z,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;m(t),a(t)},children:D.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:u,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),x(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:c,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),d(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}let L=(0,N.co)();function U(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(L[0]),[r,o]=y(),[d,u]=(0,f.useState)(0),[x,m]=(0,f.useState)(100);function p(e){n&&n.disconnect(),o("loading");let t=(0,w.k)();null!=i||(i=new N.E8(t)),null!=c||(c=new N.xA("smolken"));let l=new N.TU(t,{instrument:e,volume:x});l.output.addEffect("reverb",i,d),s(l),l.load.then(()=>{o("ready")})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Smolken Double Bass"}),(0,v.jsx)(C,{status:r,onClick:()=>p(l)}),(0,v.jsx)(z,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:L.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:x,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),u(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function F(e){let{className:t}=e,[n,s]=y(),[l,a]=(0,f.useState)("disabled"),[r,o]=(0,f.useState)((0,N.zP)()[0]),[i,c]=(0,f.useState)("marimba"),[u,x]=(0,f.useState)(void 0),[m,p]=(0,f.useState)(0),[h,j]=(0,f.useState)(100);function b(e,t){let n=(0,w.k)();null!=d||(d=new N.E8(n));let l=new N.Be(n,{kit:e,instrument:t,loadLoopData:!0});l.output.addEffect("reverb",d,0),l.load.then(e=>{s("ready"),x(t=>(t&&t.disconnect(),e)),e.hasLoops&&a("loop")}).catch(e=>{s("error"),console.error("Instrument error",e)})}return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Soundfont"}),(0,v.jsx)(C,{status:n,onClick:()=>{b(r,i)}}),(0,v.jsx)(z,{instrument:{start:e=>{u&&u.start({...e,loop:"loop"===l})},stop:e=>{null==u||u.stop(e)}}})]}),(0,v.jsxs)("div",{className:"ready"!==n?"opacity-30 no-select":"no-select",children:[(0,v.jsxs)("div",{className:"flex items-center gap-4 mb-2",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:r,onChange:e=>{let t=e.target.value;b(t,i),o(t)},children:(0,N.zP)().map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:i,onChange:e=>{let t=e.target.value;b(r,t),c(t)},children:(0,N.Dy)().map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==u||u.stop()},children:"Stop all"}),(0,v.jsxs)("label",{"aria-disabled":"disabled"===l,className:"flex gap-2 ".concat("disabled"===l?"opacity-50":""),htmlFor:"loop",children:[(0,v.jsx)("input",{disabled:"disabled"===l,checked:"loop"===l,onChange:()=>{a(e=>"no-loop"===e?"loop":"no-loop")},type:"checkbox",id:"loop"}),"Loop"]})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:h,onChange:e=>{let t=e.target.valueAsNumber;null==u||u.output.setVolume(t),j(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:m,onChange:e=>{let t=e.target.valueAsNumber;null==u||u.output.sendEffect("reverb",t),p(t)}})]}),(0,v.jsx)(R,{borderColor:"border-teal-600",onPress:e=>{var t;u&&u.start({...e,time:(null!==(t=e.time)&&void 0!==t?t:0)+u.context.currentTime,loop:"loop"===l})},onRelease:e=>{null==u||u.stop({stopId:e})}})]})]})}let O=[];function B(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=(0,f.useState)(O[0]),[r,o]=y(),[i,c]=(0,f.useState)(0),[d,m]=(0,f.useState)(100);function p(e){n&&n.disconnect(),o("loading");let t=(0,w.k)();null!=u||(u=new N.E8(t)),null!=x||(x=new N.xA("smolken"));let l=new N.Dc(t,{instrument:e,volume:d});l.output.addEffect("reverb",u,i),s(l),l.load.then(()=>{o("ready")})}return(0,f.useEffect)(()=>{(0,N.o6)().then(e=>{O=e,a(e[0])})},[]),(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Versilian "}),(0,v.jsx)("h2",{children:"Versilian Community Sample Library"})]}),(0,v.jsx)("div",{children:"(experimental)"}),(0,v.jsx)(C,{status:r,onClick:()=>p(l)}),(0,v.jsx)(z,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==r?"opacity-30":"",children:[(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("select",{className:"appearance-none bg-zinc-700 text-zinc-200 rounded border border-gray-400 py-2 px-3 leading-tight focus:outline-none focus:border-blue-500",value:l,onChange:e=>{let t=e.target.value;p(t),a(t)},children:O.map(e=>(0,v.jsx)("option",{value:e,children:e},e))}),(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})]}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:127,step:1,value:d,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),m(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),c(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function K(e){let{className:t}=e,[n,s]=(0,f.useState)(void 0),[l,a]=y(),[r,o]=(0,f.useState)(0),[i,c]=(0,f.useState)(100);return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)("div",{className:"flex gap-2 items-end mb-2",children:[(0,v.jsx)("h1",{className:"text-3xl",children:"Piano"}),(0,v.jsx)(C,{status:l,onClick:function(){if(n)return;a("loading");let e=(0,w.k)();null!=m||(m=new N.E8(e)),null!=p||(p=new N.xA);let t=new N.ab(e,{volume:i,storage:p});t.output.addEffect("reverb",m,r),s(t),t.load.then(()=>{a("ready")})}}),(0,v.jsx)(z,{instrument:n})]}),(0,v.jsx)("div",{}),(0,v.jsxs)("div",{className:"ready"!==l?"opacity-30":"",children:[(0,v.jsx)("div",{className:"flex gap-4 mb-2 no-select",children:(0,v.jsx)("button",{className:"bg-zinc-700 rounded px-3 py-0.5 shadow",onClick:()=>{null==n||n.stop()},children:"Stop all"})}),(0,v.jsxs)("div",{className:"flex gap-4 mb-2 no-select",children:[(0,v.jsx)("div",{children:"Volume:"}),(0,v.jsx)("input",{type:"range",min:0,max:128,step:1,value:i,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.setVolume(t),c(t)}}),(0,v.jsx)("div",{children:"Reverb:"}),(0,v.jsx)("input",{type:"range",min:0,max:1,step:.001,value:r,onChange:e=>{let t=e.target.valueAsNumber;null==n||n.output.sendEffect("reverb",t),o(t)}})]}),(0,v.jsx)(R,{borderColor:"border-rose-700",onPress:e=>{var t;n&&(e.time=(null!==(t=e.time)&&void 0!==t?t:0)+n.context.currentTime,n.start(e))},onRelease:e=>{null==n||n.stop({stopId:e})}})]})]})}function X(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(g(),{children:[(0,v.jsx)("title",{children:"smplr"}),(0,v.jsx)("meta",{name:"description",content:"Plug and play web instruments"}),(0,v.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,v.jsxs)("main",{className:"max-w-4xl mx-auto my-20 p-4"+j().className,children:[(0,v.jsx)("div",{className:"flex items-end mb-16",children:(0,v.jsx)("h1",{className:"text-6xl font-bold",children:"smplr"})}),(0,v.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,v.jsx)(K,{}),(0,v.jsx)(F,{}),(0,v.jsx)(P,{}),(0,v.jsx)(_,{}),(0,v.jsx)(S,{}),(0,v.jsx)(T,{}),(0,v.jsx)(U,{}),(0,v.jsx)(B,{})]})]})]})}}},function(e){e.O(0,[643,329,422,888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);